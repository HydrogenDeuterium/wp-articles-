# 服务器中了挖矿病毒


我有一台服务器。也就是托管了现在正在运行的这个 wordpress 站点的这台。因为运行一直非常良好，所以已经放在那里很久没有动过了。

今天心血来潮，上后台看了一下，cpu 占用直接上 100%了。其实之前也有类似的情况，但那个服务器是 winserver 的，不是很安全，所以也没怎么整（因为上面什么东西都没跑）

进服务器 htop 看了下，有个 kswapd0 的进程占用非常高，上网搜了一下是一个管理分页的，也确实有出现高占用的情况。想了想，重启解决 90%问题，`sudo reboot`。

理论上这不算太好的做法，但是 apache 重启之后自动重新打开，所以也不会造成什么太大的问题。但是占用还是一样的高。

上网又找了一下解决方法。

首先杀掉进程：`kill -9 920`（920 是对应的进程号），这里-9 是强制杀进程。

然后按照教程找到病毒位置并删除：`/root/.configrc`，并且清除`/root/.ssh`下的黑入者公钥，清理藏在`/tmp`里面的病毒信息。

基本上来说问题已经得到了解决，剩下的就是加强服务器安全的事情了。


